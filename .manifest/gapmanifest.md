# Gap Tracking Manifest (H2)

Правила ведения реестра пробелов в документации.

---

## gap.H3.1 Веди реестр пробелов в одном месте
Фиксируй все пробелы документации в `docs/requirements/gap-tracking.md`.
**Почему важно:**
Единый реестр позволяет отслеживать прогресс и не терять незавершенные артефакты.

---

## gap.H4.1 Используй табличный формат записи
Каждый пробел записывай в таблицу с обязательными полями:

| GAP-ID | Этап | Артефакт | Описание | Критичность | Блокирует | Статус |
|--------|------|----------|----------|-------------|-----------|--------|
| GAP-001 | [1] | Предметная область | Не определены границы | HIGH | [2], [3] | OPEN |

**Формат GAP-ID:** `GAP-NNN` (трехзначный номер).

---

## gap.H3.2 Оценивай критичность каждого пробела
При создании записи определи уровень критичности для приоритизации.
**Почему важно:**
Критичность определяет порядок устранения и влияние на другие этапы.

---

## gap.H4.2 Используй три уровня критичности

| Уровень | Описание | Действие |
|---------|----------|----------|
| `HIGH` | Блокирует несколько этапов | Устрани немедленно |
| `MEDIUM` | Блокирует 1 этап или влияет на качество | Устрани до завершения текущего этапа |
| `LOW` | Не блокирует, желательно устранить | Можно отложить |

---

## gap.H3.3 Обновляй статусы при изменениях
Статус пробела отражает текущее состояние работы над ним.
**Почему важно:**
Актуальные статусы дают реальную картину готовности документации.

---

## gap.H4.3 Используй пять статусов

| Статус | Описание |
|--------|----------|
| `OPEN` | Пробел обнаружен, работа не начата |
| `IN_PROGRESS` | Работа ведется |
| `BLOCKED` | Решение зависит от внешних факторов |
| `RESOLVED` | Пробел устранен |
| `WONTFIX` | Решено не устранять (с обоснованием) |

---

## gap.H3.4 Выявляй пробелы проактивно
Не жди завершения этапа — проверяй на пробелы в процессе.

**Gap-tracking обязателен на каждом этапе:**
- Пробелы есть → записываешь в таблицу
- Пробелов нет → записываешь "0 OPEN gaps" (пустая таблица = валидный результат)
- Никогда не пропускай gap-tracking с формулировкой "пока не требуется"

**Почему важно:**
Раннее выявление снижает стоимость устранения. Превентивная проверка гарантирует полноту документации.

---

## gap.H4.4 Проверяй в трех точках

**При копировании шаблона:**
- Секции с `<placeholder>` без значений
- Ссылки на несуществующие документы
- Пустые обязательные поля

**При переходе к следующему этапу:**
- Незаполненные входы для следующего этапа
- Отсутствующие зависимости

**При финальной проверке:**
- Разрывы трассируемости (REQ без UC, UC без теста)
- Несогласованность между артефактами

---

## gap.H3.5 Разделяй gap-tracking и задачи на код
Gap Tracking — инструмент документации, `.tasks/` — инструмент кода.
**Почему важно:**
Смешивание усложняет оба процесса.

---

## gap.H4.5 При SDD используй только gap-tracking

**При SDD (разработка документации):**
- Фиксируй пробелы ТОЛЬКО в `gap-tracking.md`
- НЕ создавай задачи в `.tasks/`

**При разработке кода (после SDD):**
- Задачи создаются в `.tasks/`
- GAP могут трансформироваться в задачи на код
- В задаче указывай ссылку на GAP-ID

---

## gap.H3.6 Используй единый формат файла
Шаблон файла обеспечивает единообразие и удобство анализа.
**Почему важно:**
Единый формат позволяет быстро оценить статус пробелов и историю их устранения.

---

## gap.H4.6 Создавай файл по шаблону

```markdown
## Gap Tracking

> Последнее обновление: YYYY-MM-DD

### Статистика
- OPEN: N
- IN_PROGRESS: N
- BLOCKED: N
- RESOLVED: N (за последние 7 дней)

### Открытые пробелы

| GAP-ID | Этап | Артефакт | Описание | Критичность | Блокирует | Статус |
|--------|------|----------|----------|-------------|-----------|--------|

### История (RESOLVED/WONTFIX)

| GAP-ID | Дата закрытия | Резолюция |
|--------|---------------|-----------|
```
