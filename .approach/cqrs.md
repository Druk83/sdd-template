# CQRS — разделение read/write

Подход для явного разделения операций чтения и записи.

## Назначение

Используй CQRS на этапах [6], [7] для разделения read/write и выделения read model таблиц.
Критерий выбора: нагрузка > 10K RPS или явное разделение read/write (см. 3.5.3).

## Глоссарий

| Термин | Определение |
|--------|-------------|
| Read model | Отдельные таблицы для операций чтения (см. `docs/requirements/структура Данных/описание БД.md`) |
| Read/Write | Операции чтения и записи данных |

## Процедура (императив)

### Фаза 1: Принятие решения
1. Проверь критерии в `docs/requirements/обоснование выбора.md`, раздел 3.5.3.
2. Зафиксируй решение "CQRS: да/нет" и обоснование в разделе 3.5.3.

### Фаза 2: Разделение операций
1. Используй результаты сценариев (use cases, каталог мероприятий) для перечня операций.
2. Отметь для каждой операции тип: read или write.
3. Зафиксируй разделение в документации сценариев домена.

### Фаза 3: Read model
1. Определи отдельные read model таблицы для операций чтения.
2. Запиши read model в `docs/requirements/структура Данных/описание БД.md`.

### Фаза 4: Проверка
1. Проверь, что все операции чтения покрыты read model таблицами.
2. Проверь, что решение CQRS отражено в 3.5.3 и согласовано с выбранной архитектурой.

## Артефакты

| Артефакт | Расположение |
|----------|--------------|
| Решение по CQRS | `docs/requirements/обоснование выбора.md` (3.5.3) |
| Read model таблицы | `docs/requirements/структура Данных/описание БД.md` |

## Критерии готовности

1. Решение по CQRS зафиксировано в разделе 3.5.3.
2. Операции разделены на read/write и отражены в сценариях.
3. Read model таблицы описаны в структуре данных.

## Ссылки

* Назад к разделу: `../README.md`
* Раздел 3.5.3: `.requirements/обоснование выбора.md`
* Шаблон [6]: `.requirements/структура Данных/описание БД.md`
