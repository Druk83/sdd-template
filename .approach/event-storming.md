# Event Storming — моделирование через события

Подход для выявления бизнес-процессов, событий, команд и агрегатов домена.

## Назначение

Используй Event Storming на этапах [5], [5.1], [5.2] для построения карты процесса и каталога мероприятий.

## Глоссарий

| Термин | Определение | Формат именования |
|--------|-------------|-------------------|
| Domain Event | Факт, произошедший в домене | Прошедшее время, EVT-* |
| Command | Намерение изменить состояние | Повелительное наклонение, CMD-* |
| Aggregate | Кластер объектов, обрабатываемых как единое целое | Существительное |
| Actor | Роль, инициирующая команду | Существительное |
| Policy | Правило реакции на событие | "Когда..., тогда..." |

## Процедура (императив)

### Фаза 1: Сбор событий
1. Прочитай `.source/` и результаты этапа [1].
2. Выдели все факты, которые происходят в системе.
3. Сформулируй каждый факт в прошедшем времени.
4. Присвой идентификатор: `EVT-<номер>`.
5. Запиши в таблицу событий.

### Фаза 2: Определение команд
1. Для каждого события задай вопрос: "Что это вызвало?".
2. Сформулируй команду в повелительном наклонении.
3. Присвой идентификатор: `CMD-<номер>`.
4. Свяжи команду с событием: `CMD-01 -> EVT-01`.

### Фаза 3: Идентификация агрегатов
1. Сгруппируй события, которые изменяют одни и те же данные.
2. Назови агрегат существительным.
3. Определи границы агрегата.

### Фаза 4: Построение карты процесса
1. Расположи события в хронологическом порядке.
2. Добавь акторов к командам.
3. Добавь политики между событиями.
4. Запиши результат в `docs/requirements/сценарии/<domain>/карта процесса.md`.

## Артефакты

| Артефакт | Расположение |
|----------|--------------|
| Карта процесса | `docs/requirements/сценарии/<domain>/карта процесса.md` |
| Каталог мероприятий | `docs/requirements/сценарии/<domain>/каталог мероприятий.md` |

## Критерии готовности

1. Проверь: все ключевые события домена выявлены.
2. Проверь: каждое событие имеет инициирующую команду.
3. Проверь: события сгруппированы в агрегаты.
4. Проверь: карта процесса показывает хронологию.
5. Проверь: акторы определены для каждой команды.

## Ссылки

* Назад к разделу: `../README.md`
* Шаблон [5.1]: `.requirements/сценарии/карта процесса.md`
* Шаблон [5.2]: `.requirements/сценарии/каталог мероприятий.md`
